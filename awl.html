<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Academic Word List</title>
    <!-- CSS only -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="/css/bootstrap5.min.css" rel="stylesheet">
    <link href="/css/bootstrap5-grid.min.css" rel="stylesheet">
<!--    <script src="/js/bootstrap5.min.js" ></script>-->
    <script src="/js/bootstrap5.bundle.min.js"></script>


    <script src="https://unpkg.com/vue@next"></script>
    <style>
        ul.word-list {height: 80vh; width: 100%;overflow-y: scroll; border: 2px solid darkgreen;}
        iframe{height: 80vh; width: 100%; margin-top:6vh; overflow-y: scroll;border: 2px solid darkred;}
        span.delete{text-decoration: line-through;}
        span.current{background: #4cae4c; color: whitesmoke;}
    </style>
</head>
<body>

<header>
    <h1>Academic Word List exercise</h1>
</header>
<hr>
<div id="app" class="container">
    <div class="row">
        <div class="col-lg-3 col-md-3">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">AWL</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">Mastered</button>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
                    <ul class="word-list">
                        <template v-for="(word, i) in awl">
                            <li>
                                <input type="checkbox" :value="word" v-model="mastered_words" @change="checkword(word)"> &nbsp;
                                <span :class="word + (mastered_words.indexOf(word) > -1 ? ' delete' : '')" @click="clickword(word)">{{i+1}},&nbsp;{{word}}</span>
                            </li>
                            <hr v-if="(i+1) % 10 == 0">
                        </template>
                    </ul>
                </div>
                <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                    <ul class="word-list">
                        <template v-for="(word, i) in mastered_words">
                            <li @click="clickword(word)">
                                <label :for="word">
                                    <input :id="word" type="checkbox" :value="word" v-model="mastered_words" @change="checkword(word)"> &nbsp;
                                    <span :class="mastered_words.indexOf(word) > -1 ? 'delete' : ''">{{i+1}},&nbsp;{{word}}</span>
                                </label>
                            </li>
                            <hr v-if="(i+1) % 10 == 0">
                        </template>
                    </ul>
                </div>
            </div>

        </div>

        <div class="col-lg-9 col-md-9">
            <iframe :src="sentense_url" frameborder="0" align="right" allowfullscreen></iframe>

        </div>
    </div>

</div>

<script>
    AWL = [ "analyse", "approach", "area", "assess", "assume", "authority", "available", "benefit", "concept", "consist", "constitutional", "context", "contract", "create", "data", "definition", "derived", "distribution", "economic", "environment", "established", "estimate", "evidence", "export", "factors", "financial", "formula", "function", "identified", "income", "indicate", "individual", "interpretation", "involved", "issues", "labour", "legal", "legislation", "major", "method", "occur", "percent", "period", "policy", "principle", "procedure", "process", "required", "research", "response", "role", "section", "sector", "significant", "similar", "source", "specific", "structure", "theory", "variable", "achieve", "acquisition", "administration", "affect", "appropriate", "aspects", "assistance", "categories", "chapter", "commission", "community", "complex", "computer", "conclusion", "conduct", "consequences", "construction", "consumer", "credit", "cultural", "design", "distinction", "elements", "equation", "evaluation", "features", "final", "focus", "impact", "injury", "institute", "invest", "items", "journal", "maintain", "normal", "obtain", "participate", "perceive", "positive", "potential", "previous", "primary", "purchase", "range", "region", "regulations", "relevant", "resident", "resource", "restrict", "secure", "seekt", "select", "site", "strategy", "survey", "text", "tradition", "transfer", "alternative", "circumstance", "comment", "compensate", "component", "consent", "considerable", "constant", "constrain", "contribute", "convene", "coordinate", "core", "corporate", "correspond", "criteria", "deduce", "demonstrate", "document", "dominate", "emphasis", "ensure", "exclude", "framework", "fund", "illustrate", "immigrate", "imply", "initial", "instance", "interact", "justify", "layer", "link", "locate", "maximise", "minor", "negate", "outcome", "partner", "philosophy", "physical", "proportion", "publish", "react", "register", "rely", "remove", "scheme", "sequence", "sex", "shift", "specify", "sufficient", "task", "technical", "technique", "technology", "valid", "volume", "access", "adequate", "annual", "apparent", "approximate", "attitude", "attribute", "civil", "code", "commit", "communicate", "concentrate", "confer", "contrast", "cycle", "debate", "despite", "dimension", "domestic", "emerge", "error", "ethnic", "goal", "grant", "hence", "hypothesis", "implement", "implicate", "impose", "integrate", "internal", "investigate", "job", "label", "mechanism", "obvious", "occupy", "option", "output", "overall", "parallel", "parameter", "phase", "predict", "principal", "prior", "professional", "project", "promote", "regime", "resolve", "retain", "series", "statistic", "status", "stress", "subsequent", "sum", "summary", "undertake", "academy", "adjust", "alter", "amend", "aware", "capacity", "challenge", "clause", "compound", "conflict", "consult", "contact", "decline", "discrete", "draft", "enable", "energy", "enforce", "entity", "equivalent", "evolve", "expand", "expose", "external", "facilitate", "fundamental", "generate", "generation", "image", "liberal", "license", "logic", "margin", "medical", "mental", "modify", "monitor", "network", "notion", "objective", "orient", "perspective", "precise", "prime", "psychology", "pursue", "ratio", "reject", "revenue", "stable", "style", "substitute", "sustain", "symbol", "target", "transit", "trend", "version", "welfare", "whereas", "abstract", "accurate", "acknowledge", "aggregate", "allocate", "assign", "attach", "author", "bond", "brief", "capable", "cite", "cooperate", "discriminate", "display", "diverse", "domain", "edit", "enhance", "estate", "exceed", "expert", "explicit", "federal", "fee", "flexible", "furthermore", "gender", "ignorant", "incentive", "incidence", "incorporate", "index", "inhibit", "initiate", "input", "instruct", "intelligence", "interval", "lecture", "migrate", "minimum", "ministry", "motive", "neutral", "nevertheless", "overseas", "precede", "presume", "rational", "recover", "reveal", "scope", "subsidy", "tape", "trace", "transform", "transport", "underlie", "utilize", "adapt", "adult", "advocate", "aid", "channel", "chemical", "classic", "comprehensive", "comprise", "confirm", "contrary", "convert", "couple", "decade", "definite", "deny", "differentiate", "dispose", "dynamic", "eliminate", "empirical", "equip", "extract", "file", "finite", "foundation", "globe", "grade", "guarantee", "hierarchy", "identical", "ideology", "infer", "innovate", "insert", "intervene", "isolate", "media", "mode", "paradigm", "phenomenon", "priority", "prohibit", "publish", "quote", "release", "reverse", "simulate", "sole", "somewhat", "submit", "successor", "survive", "thesis", "topic", "transmit", "ultimate", "unique", "visible", "voluntary", "abandon", "accompany", "accumulate", "ambiguous", "append", "appreciate", "arbitrary", "automate", "bias", "chart", "clarify", "commodity", "complement", "conform", "contemporary", "contradict", "crucial", "currency", "denote", "detect", "deviate", "displace", "drama", "eventual", "exhibit", "exploit", "fluctuate", "guideline", "highlight", "implicit", "induce", "inevitable", "infrastructure", "inspect", "intense", "manipulate", "minimize", "nuclear", "offset", "paragraph", "plus", "practitioner", "predominant", "prospect", "radical", "random", "reinforce", "restore", "revise", "schedule", "tense", "terminate", "theme", "thereby", "uniform", "vehicle", "via", "virtual", "visual", "widespread", "accommodate", "analogy", "anticipate", "assure", "attain", "behalf", "bulk", "cease", "coherent", "coincide", "commence", "compatible", "concurrent", "confine", "controversy", "converse", "device", "devote", "diminish", "distort", "duration", "erode", "ethic", "format", "found", "inherent", "insight", "integral", "intermediate", "manual", "mature", "mediate", "medium", "military", "minimal", "mutual", "norm", "overlap", "passive", "portion", "preliminary", "protocol", "qualitative", "refine", "relax", "restrain", "revolution", "rigid", "route", "scenario", "sphere", "subordinate", "supplement", "suspend", "team", "temporary", "trigger", "unify", "violate", "vision", "adjacent", "albeit", "assemble", "collapse", "colleague", "compile", "conceive", "convince", "depress", "encounter", "enormous", "forthcoming", "incline", "integrity", "intrinsic", "invoke", "levy", "likewise", "nonetheless", "notwithstanding", "odd", "ongoing", "panel", "persist", "pose", "reluctance", "so-called", "straightforward", "undergo", "whereby" ];
    const Counter = {
        data() {
            return {
                counter: 0,
                current_word: null,
                awl: [],
                mastered_words: []
            }
        },
        mounted() {
            this.awl = AWL
            this.current_word = AWL[0]
            setInterval(() => {
                this.counter++
            }, 1000)
            const triggerTabList = document.querySelectorAll('#myTab button')
            triggerTabList.forEach(triggerEl => {
                const tabTrigger = new bootstrap.Tab(triggerEl)

                triggerEl.addEventListener('click', event => {
                    event.preventDefault()
                    tabTrigger.show()
                })
            })

            if (words = window.localStorage.getItem("mastered_words")){
                this.mastered_words = words.split(',')
            }
        },
        methods: {
            clickword (word){
                console.log("you click word: "+word)
                this.current_word = word
                document.querySelectorAll('.current').forEach(span => {
                    span.classList.remove('current')
                })
                document.querySelectorAll('.'+word).forEach(span => {
                    span.classList.add("current")
                })
                setTimeout(function(){
                    var elemDiv = document.createElement('style');
                    elemDiv.innerHTML = '.header{display:none;}';
                    document.body.appendChild(elemDiv);
                }, 20000)
            },
            checkword (word) {
                console.log("check word: "+word)
                console.log("mastered words: ")
                console.log(this.mastered_words)
                window.localStorage.setItem("mastered_words", this.mastered_words.toString())
            }
        },
        computed: {
            sentense_url: function(){
                return "https://sentencedict.com/"+this.current_word+".html"
            }
        }

    }

    Vue.createApp(Counter).mount('#app')
</script>
</body>
</html>
